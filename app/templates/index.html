<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>websockets</title>
</head>
<body>
    
</body>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
<script type="text/javascript" charset="utf-8">
    // var socket = io.connect('http://' + document.domain + ':' + location.port);
    // socket.on('connect', function() {
    //     socket.emit('my event', {data: 'I\'m connected!'});
    //     socket.on("my event",function(e){
    //         console.log('return:'+ e.data)
    //     })   
    // });

    // client
    // var socket = io('http://127.0.0.1:5000/');

    // socket.on('connect', function(){
    //     console.log(socket.id); // 'G5p5...'
    //     socket.emit('my event', {data: 'I\'m connected!'});
    //     socket.on("my event",function(e){
    //         console.log('response:'+ e.data)
    //     })
    // });

    // example
    var socket = io.connect('http://' + document.domain + ':' + location.port + '/test');

    socket.emit('response', {data: 'I\'m connected!'});
    socket.on('response',function(data){         
        if (data.code == '200'){
            console.log(data);
        }else{
            console.log('ERROR:' + data);
        }
    });
    // var socket = io.connect(url);
    // socket.emit('response', 'demo');
    // socket.on('response', function(msg){
    //     console.log(msg)
    // });

    // var socket = io("ws://127.0.0.1:5000");
    
    // socket.on('my event',function(data){
    //     socket.emit('my event', {rp:"fine,thank you"}); //向服务器发送消息
    //     console.log(data);
    // });
    // socket.on("my event",function(data){
    //     console.log(data)
    // })
    
    // socket.on('disconnect', function() {
    //     console.log("与服务其断开");
    // });
    
    
    // socket.on('reconnect', function() {
    //     console.log("重新连接到服务器");
    // });
</script>
</html>